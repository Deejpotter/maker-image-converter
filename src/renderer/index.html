<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Maker Image Converter</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px
    }

    button {
      padding: 8px 12px
    }

    #log {
      margin-top: 12px;
      height: 220px;
      overflow: auto;
      background: #f8f8f8;
      padding: 8px;
      border-radius: 4px
    }
  </style>
</head>

<body>
  <h2>Maker Image Converter</h2>
  <div>
    <button id="select">Select Folder</button>
    <span id="folder">No folder selected</span>
  </div>
  <div style="margin-top:12px">
    <select id="mode">
      <option value="full">Full (convert + overlays)</option>
      <option value="convert">Convert only</option>
      <option value="overlay">Overlay only</option>
      <option value="diagonal">Diagonal only</option>
    </select>
    <label style="margin-left:8px">Watermark path (optional): <input id="watermarkPath" type="text"
        placeholder="Leave blank to use built-in" style="width:320px" /></label>
    <label style="margin-left:8px">Opacity: <input id="watermarkOpacity" type="number" min="0" max="1" step="0.1"
        value="0.2" style="width:80px" /></label>
  </div>
  <div style="margin-top:12px">
    <label>Dimensions keyword: <input id="dimsKeyword" type="text" placeholder="-dims" style="width:100px"
        value="-dims" /></label>
  </div>
  <div style="margin-top:12px">
    <button id="start" disabled>Start Conversion</button>
    <button id="cancel" disabled style="margin-left:8px">Cancel</button>
  </div>
  <div id="progress" style="margin-top:12px">
    <progress id="progressBar" value="0" max="100" style="width:100%"></progress>
  </div>
  <div id="log"></div>

  <div id="help" style="margin-top:12px;color:#333;line-height:1.4">
    <strong>What this app does</strong>: This tool automates the preparation of product images for the web. It
    standardizes images into high-performance <strong>800×800px WebP</strong> files (80% quality) while maintaining
    their original aspect ratio on a <strong>pure white background</strong>. It also handles branding by applying
    watermarks intelligently based on filename and folder logic.
    <br><br>
    <strong>How to use</strong>:
    <ol>
      <li>Click <strong>Select Folder</strong> and choose the directory containing your source images.</li>
      <li>Choose an <strong>Application Mode</strong> and optionally adjust settings like <strong>Opacity</strong> or
        the <strong>Dimensions keyword</strong>.</li>
      <li>Click <strong>Start Conversion</strong>. The app will create a <code>webp</code> folder as a sibling to your
        source directory containing all processed files.</li>
    </ol>
    <strong>Application Modes</strong>:
    <ul>
      <li><strong>Full (convert + overlays)</strong>: The complete workflow.
        <ul>
          <li>Converts all images to <strong>800×800 WebP</strong>.</li>
          <li><strong>Primary images</strong> (filenames ending in <code>01</code>) are processed without watermarks.</li>
          <li><strong>Secondary images</strong> receive a centered branding watermark.</li>
          <li><strong>Dimension images</strong> (containing your keyword) receive a professional diagonal watermark.</li>
        </ul>
      </li>
      <li><strong>Convert only</strong>: Pure batch resizing and conversion to WebP. No watermarks are applied to any
        files.</li>
      <li><strong>Overlay only</strong>: Standardizes images to 800×800 and applies a centered watermark to all
        non-primary (non-01) images.</li>
      <li><strong>Diagonal only</strong>: Standardizes images to 800×800 and applies a diagonal watermark to images
        containing the <strong>Dimensions keyword</strong> (default: <code>-dims</code>) or located in folders named
        "Dimensions".</li>
    </ul>
    <em>Tip: Use the "Dimensions keyword" setting if your file naming convention uses something other than
      <code>-dims</code> to identify dimension diagrams.</em>
  </div>

  <script src="renderer.js"></script>
</body>

</html>
